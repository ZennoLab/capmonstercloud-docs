---
sidebar_position: 0
sidebar_label: createTask
title: "createTask: como criar uma tarefa para resolver captcha"
description: "createTask: este método cria uma tarefa para resolver um tipo específico de captcha. Os parâmetros incluem dados de autenticação do cliente, informações tipadas da tarefa e outros parâmetros adicionais."
---

import { ArticleHead } from '../../../../../../src/theme/ArticleHead';

<ArticleHead slug="api/methods/create-task" />

# createTask : criação de tarefa

## **Descrição**

O método cria uma tarefa para resolver o tipo de captcha selecionado. Os parâmetros incluem dados de autenticação do cliente, informações tipadas da tarefa e, se necessário, parâmetros adicionais.

:::info Endereço do método

```http
https://api.capmonster.cloud/createTask
```

Formato da requisição: `JSON POST`
:::

---

## Parâmetros da requisição

### `clientKey`

Type: `String` <br />
Obrigatório: `Sim`<br />
Chave única da sua conta, chave de API (pode ser encontrada [aqui](https://capmonster.cloud/Dashboard))

### `task`

Type: `Objeto da tarefa` <br />
Obrigatório: `Sim`<br />
Array de dados da tarefa. Lista de tipos de tarefas de captcha [aqui](../../../captchas).

### `callbackUrl`

Type: `String` <br />
Obrigatório: `Não`<br />
Endereço web para envio do resultado da tarefa de captcha. Os dados são enviados via POST.<br />O conteúdo é idêntico à resposta do método [getTaskResult](./get-task-result.mdx).<br />O conteúdo da resposta não é verificado e o servidor deve aceitar a requisição em até 2 segundos, depois a conexão é encerrada.

Exemplo de uso do parâmetro `callbackUrl`:

```json
{
  "clientKey": "API_KEY",
  "task": {
    "type": "RecaptchaV2Task",
    "websiteURL": "https://lessons.zennolab.com/captchas/recaptcha/v2_simple.php?level=high",
    "websiteKey": "6Lcg7CMUAAAAANphynKgn9YAgA4tQ2KI_iqRyTwd"
  },
  "callbackUrl": "https://yourwebsite.com/callback"
}
```

---

### Exemplos de requisições

<details>
  <summary>
    Tarefa para resolver captcha de imagem simples
  </summary>

```json
{
  "clientKey":"API_KEY",
  "task": 
  {
    "type":"ImageToTextTask",
    "body":"BASE64_BODY_HERE!"
  }
}
```

</details>

<details>
  <summary>
    Tarefa para resolver ReCaptcha2
  </summary>

```json
{
  "clientKey":"API_KEY",
  "task": 
  {
    "type":"RecaptchaV2Task",
    "websiteURL":"https://lessons.zennolab.com/captchas/recaptcha/v2_simple.php?level=high",
    "websiteKey":"6Lcg7CMUAAAAANphynKgn9YAgA4tQ2KI_iqRyTwd"
  }
}
```

</details>

---

## Estrutura da resposta

### `errorId`

Type: `Integer` <br />
Obrigatório: `Sim`<br />
Identificador de erro.<br />**0** - sem erros, tarefa criada com sucesso, o identificador da tarefa está no parâmetro *taskId*<br />**1** - erro, informações detalhadas estão na propriedade *errorCode*

### `errorCode`

Type: `String` <br />
Obrigatório: `Não`<br />
Código do erro. Veja o [glossário de erros](../api-errors.mdx).

### `taskId`

Type: `Integer` <br />
Obrigatório: `Sim`<br />
Identificador da tarefa para uso posterior no método [getTaskResult](./get-task-result.mdx).

---

### Exemplo de resposta

<details>
  <summary>Resposta SEM erro</summary>

```json
{
  "errorId": 0,
  "taskId": 7654321
}
```

</details>

<details>
  <summary>Resposta COM erro</summary>

```json
{
  "errorId": 1,
  "errorCode": "ERROR_KEY_DOES_NOT_EXIST",
  "errorDescription": "Account authorization key not found in the system or has incorrect format",
  "taskId": 0
}
```
</details>
