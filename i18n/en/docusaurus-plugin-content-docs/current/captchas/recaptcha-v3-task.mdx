---
sidebar_position: 1
sidebar_label: reCAPTCHA v3
title: "Recognise and resolve reCAPTCHA v3 - reCAPTCHA v3 Task | API"
description: "A detailed description of solving the reCAPTCHA v3 Task using a proxy server for automated recognition and solving (bypass) reCAPTCHA v3 in the documentation in Capmonster Cloud Docs."
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import ParamItem from '@theme/ParamItem';
import MethodItem from '@theme/MethodItem';
import MethodDescription from '@theme/MethodDescription'
import PriceBlock from '../../../../../src/theme/PriceBlock';
import PriceBlockWrap from '@theme/PriceBlockWrap';
import BlogLink from '@theme/BlogLink';
import { ArticleHead } from '../../../../../src/theme/ArticleHead';

<ArticleHead slug="captchas/recaptcha-v3-task" />

# reCAPTCHA v3

<PriceBlockWrap>
  <PriceBlock title="reCAPTCHA v3" captchaId="recaptcha3"/>
</PriceBlockWrap>

![](./images/recaptcha-v3/recaptchaV3.png)

:::warning **Attention!**
The task is executed through our own proxy servers. There are no additional costs for proxies — their usage is already included in the service price.
:::

This section describes the task for solving Google reCAPTCHA v3.

reCAPTCHA v3 operates entirely in the background and does not require any user interaction. The system analyzes behavioral and technical signals of the page visitor and generates a risk score for each request. Based on this data, the website decides whether to allow the action using a trust score, which typically ranges from **0.1** to **0.9**.

When creating a task, it is recommended to provide two parameters: `pageAction` and `minScore`.

## Request parameters


<TabItem value="proxyless" label="RecaptchaV3TaskProxyless (without proxy)" default className="bordered-panel">
    <ParamItem title="type" required type="string" />
    **RecaptchaV3TaskProxyless**

    ---

    <ParamItem title="websiteURL" required type="string" />
    Address of a webpage with Google ReCaptcha.

    ---

    <ParamItem title="websiteKey" required type="string" />
    Recaptcha website key.<br/>https://www.google.com/recaptcha/api.js?render=THIS_ONE

    ---

    <ParamItem title="minScore" type="double" />
    Value from 0.1 to 0.9

    ---

    <ParamItem title="pageAction" type="string" />
    <p>Widget action value. Website owner defines what user is doing on the page through this parameter. Default value: *verify*</p><p>Example:<br/>*`grecaptcha.execute('site_key', {action:'login_test'})`*.</p>
</TabItem>


## Create task method

<TabItem value="proxyless" label="RecaptchaV2TaskProxyless (without proxy)" default className="method-panel">
	<MethodItem>
		```http
		https://api.capmonster.cloud/createTask
		```
	</MethodItem>
	<MethodDescription>
		**Request**
		```json
		{
		  "clientKey":"API_KEY",
		  "task": {
			"type":"RecaptchaV3TaskProxyless",
			"websiteURL":"https://lessons.zennolab.com/captchas/recaptcha/v3.php?level=beta",
			"websiteKey":"6Le0xVgUAAAAAIt20XEB4rVhYOODgTl00d8juDob",
			"minScore": 0.7,
			"pageAction": "myverify"
		  }
		}
		```
		**Response**
		```json
		{
		  "errorId":0,
		  "taskId":407533072
		}
		```
	</MethodDescription>
</TabItem>


## Get task result method

:::warning **Warning!**
On some websites, it is important that the UserAgent matches the one used when solving the captcha. Therefore, if CapMonster Cloud returns a UserAgent along with the token, **always** apply it when submitting the form or confirming the solution on the target page.
:::

Use the [getTaskResult](../api/methods/get-task-result.mdx) to request answer for ReCaptcha3. You will get response within 10 - 30 sec period depending on service workload.

<TabItem value="proxyless" label="GeeTestTaskProxyless (without proxy)" default className="method-panel-full">
	<MethodItem>
		```http
		https://api.capmonster.cloud/getTaskResult
		```
	</MethodItem>
	<MethodDescription>
		**Request**
		```json
		{
		  "clientKey":"API_KEY",
		  "taskId": 407533072
		}
		```
		**Response**
		```json
		{
		  "errorId":0,
		  "status":"ready",
		  "solution": {
			"gRecaptchaResponse":"3AHJ_VuvYIBNBW5yyv0zRYJ75VkOKvhKj9_xGBJKnQimF72rfoq3Iy-DyGHMwLAo6a3"
		  }
		}
		```
    For some websites, the response may be something like this (use the obtained UserAgent when submitting the solution, even if it differs from the current one):
 
		```json
		{
		  "errorId":0,
		  "status":"ready",
		  "solution": {
			"userAgent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36", 
                "gRecaptchaResponse": "0cAFcWeA5Y3...hF8UWA", 
                "cookies": {"nocookies": "true"}}"
		  }
		}
		```
	</MethodDescription>
</TabItem>

<br />

|**Property**|**Type**|**Description**|
| :- | :- | :- |
|gRecaptchaResponse|String|Hash which should be inserted into Recaptcha3 submit form in `<textarea id="g-recaptcha-response" ></textarea>`. It has a length of 500 to 2190 bytes.|

## How to find all required parameters for task creation

### Manually

1. Open your website where the captcha appears in the browser.
2. Right-click on the captcha element and select **Inspect**.

#### websiteKey

The public site key (sitekey). Usually, it can be found in the included script:

In **Elements**:

![elements](images\recaptcha-v3\sitekey-elements.png)

In the **Network** tab:

![network](images\recaptcha-v3\sitekey-network.png)

#### pageAction

The action name passed to *grecaptcha.execute().* For example:​

![action](images\recaptcha-v3\action.png)

### Automatically

To automate parameter extraction, you can retrieve them via a **browser** (regular or headless, e.g., using **Playwright**) or directly from **HTTP requests**. Since dynamic parameter values are short-lived, it is recommended to use them immediately after retrieval.

:::warning **Important!**
The provided code snippets are basic examples for learning how to extract the required parameters. The exact implementation will depend on your captcha page, its structure, and the HTML elements and selectors used.
:::

<Tabs className="full-width-tabs filled-tabs request-tabs">
  <TabItem value="js" label="JavaScript" default className="method-panel">
    <details>
      <summary>Show code (in browser)</summary>

      ```js
      (() => {
          const originalGrecaptcha = window.grecaptcha;

          if (!originalGrecaptcha || !originalGrecaptcha.execute) {
              console.warn("grecaptcha.execute not found. Wait until it loads.");
              return;
          }

          window.__extractedParams = null;

          window.grecaptcha = {
              ...originalGrecaptcha,
              execute: function(sitekey, config) {
                  console.log("Captured!");
                  console.log("sitekey:", sitekey);
                  console.log("action:", config?.action);
                  window.__extractedParams = {
                      sitekey,
                      action: config?.action
                  };

                  return originalGrecaptcha.execute(sitekey, config);
              },
              ready: originalGrecaptcha.ready
          };

          console.log("grecaptcha.execute is wrapped. Click the button - parameters will be captured.");
      })();
      ```
    </details>

    <details>
      <summary>Show code (Node.js)</summary>

      ```js
      import { chromium } from "playwright";

      (async () => {
        const browser = await chromium.launch({ headless: false });
        const context = await browser.newContext();
        const page = await context.newPage();

        const jsContents = [];

        page.on("response", async (response) => {
          try {
            const url = response.url();
            const ct = response.headers()["content-type"] || "";
            if (ct.includes("javascript") || url.endsWith(".js")) {
              const text = await response.text();
              jsContents.push(text);
            }
          } catch (e) {}
        });

        const targetUrl = "https://lessons.zennolab.com/captchas/recaptcha/v3.php?level=beta";
        await page.goto(targetUrl, { timeout: 60000 });
        await page.waitForTimeout(3000);

        const inlineScripts = await page.$$eval("script:not([src])", (scripts) =>
          scripts.map((s) => s.textContent)
        );
        jsContents.push(...inlineScripts);

        const executeRegex =
          /grecaptcha\.execute\(\s*['"]
          (?<sitekey>[^'"]+)['"]\s*,\s*\{[^}]*action\s*:\s*['"](?<action>[^'"]+)['"]/i;

        let foundSitekey = null;
        let foundAction = null;

        for (const js of jsContents) {
          const match = js.match(executeRegex);
          if (match && match.groups) {
            foundSitekey = match.groups.sitekey;
            foundAction = match.groups.action;
            break;
          }
        }

        console.log({
          sitekey: foundSitekey,
          action: foundAction,
        });

        await browser.close();
      })();
      ```
    </details>
  </TabItem>

  <TabItem value="python" label="Python" className="method-panel">
    <details>
      <summary>Show code</summary>

      ```python
      import asyncio
      import re
      from playwright.async_api import async_playwright

      async def extract_recaptcha_v3_execute(url):
          async with async_playwright() as p:
              browser = await p.chromium.launch(headless=False)
              context = await browser.new_context()
              page = await context.new_page()

              execute_pattern = re.compile(
                  r"grecaptcha\.execute\(\s*['\"]"
                  r"(?P<sitekey>[^'\"]+)['\"]\s*,\s*\{[^}]*action\s*:\s*['\"](?P<action>[^'\"]+)['\"]",
                  re.IGNORECASE
              )

              found_sitekey = None
              found_action = None
              js_contents = []

              async def handle_response(response):
                  try:
                      ct = response.headers.get("content-type", "")
                      if "javascript" in ct or response.url.endswith(".js"):
                          text = await response.text()
                          js_contents.append(text)
                  except:
                      pass

              page.on("response", handle_response)

              await page.goto(url, timeout=60000)
              await page.wait_for_timeout(3000)

              inline_scripts = await page.locator("script:not([src])").all_text_contents()
              js_contents += inline_scripts

              for js in js_contents:
                  match = execute_pattern.search(js)
                  if match:
                      found_sitekey = match.group("sitekey")
                      found_action = match.group("action")
                      break

              await browser.close()

              print({
                  "sitekey": found_sitekey,
                  "action": found_action
              })

      asyncio.run(extract_recaptcha_v3_execute("https://lessons.zennolab.com/captchas/recaptcha/v3.php?level=beta"))
      ```
    </details>
  </TabItem>

  <TabItem value="csharp" label="C#" className="method-panel">
    <details>
      <summary>Show code</summary>

      ```csharp
      using System;
      using System.Text.RegularExpressions;
      using System.Threading.Tasks;
      using Microsoft.Playwright;
      using System.Collections.Generic;

      class Program
      {
          public static async Task Main(string[] args)
          {
              await ExtractRecaptchaV3Execute
              ("https://lessons.zennolab.com/captchas/recaptcha/v3.php?level=beta");
          }

          public static async Task ExtractRecaptchaV3Execute(string url)
          {
              using var playwright = await Playwright.CreateAsync();
              var browser = await playwright.Chromium.LaunchAsync(new BrowserTypeLaunchOptions
              {
                  Headless = false
              });

              var context = await browser.NewContextAsync();
              var page = await context.NewPageAsync();

              string foundSitekey = null;
              string foundAction = null;
              var jsContents = new List<string>();

              page.Response += async (_, response) =>
              {
                  try
                  {
                      var ct = response.Headers.ContainsKey("content-type") ? 
                      response.Headers["content-type"] : "";
                      if ((ct != null && ct.Contains("javascript")) || response.Url.EndsWith(".js"))
                      {
                          var text = await response.TextAsync();
                          jsContents.Add(text);
                      }
                  }
                  catch { }
              };

              await page.GotoAsync(url, new PageGotoOptions { Timeout = 60000 });
              await page.WaitForTimeoutAsync(3000);

              var inlineScripts = await page.EvalOnSelectorAllAsync<string[]>(
                  "script:not([src])",
                  "els => els.map(e => e.textContent)"
              );
              jsContents.AddRange(inlineScripts);

              var regex = new Regex(@"grecaptcha\.execute\(\s*['""]"
              + @"(?<sitekey>[^'""]+)['""]\s*,\s*\{[^}]*action\s*:\s*['""](?<action>[^'""]+)['""]", 
              RegexOptions.IgnoreCase);

              foreach (var js in jsContents)
              {
                  var match = regex.Match(js);
                  if (match.Success)
                  {
                      foundSitekey = match.Groups["sitekey"].Value;
                      foundAction = match.Groups["action"].Value;
                      break;
                  }
              }

              Console.WriteLine($"sitekey: {foundSitekey}");
              Console.WriteLine($"action: {foundAction}");

              await browser.CloseAsync();
          }
      }
      ```
    </details>
  </TabItem>
</Tabs>

## Use the SDK library

<Tabs className="full-width-tabs filled-tabs request-tabs" groupId="captcha-type">
  <TabItem value="js" label="JavaScript" default className="method-panel">
<details>
      <summary>Show code (for browser)</summary>  
```js
// https://github.com/ZennoLab/capmonstercloud-client-js

import {
  CapMonsterCloudClientFactory,
  ClientOptions,
  RecaptchaV3ProxylessRequest
} from '@zennolab_com/capmonstercloud-client';

document.addEventListener('DOMContentLoaded', async () => {

  const cmcClient = CapMonsterCloudClientFactory.Create(
    new ClientOptions({ clientKey: 'YOUR_API_KEY' }) // Specify your CapMonster Cloud API key
  );

  // Optionally, you can check the balance
  const balance = await cmcClient.getBalance();
  console.log('Balance:', balance);

  const recaptchaV3Request = new RecaptchaV3ProxylessRequest({
    websiteURL: 'https://lessons.zennolab.com/captchas/recaptcha/v3.php?level=beta', // URL of your page with captcha
    websiteKey: '6Le0xVgUAAAAAIt20XEB4rVhYOODgTl00d8juDob',
    minScore: 0.6,  
    pageAction: 'myverify',
  });

  const solution = await cmcClient.Solve(recaptchaV3Request);
  console.log('Solution:', solution);

});
````
</details>

<details>
      <summary>Show code (Node.js)</summary>
```javascript
// https://github.com/ZennoLab/capmonstercloud-client-js

import { CapMonsterCloudClientFactory, ClientOptions, RecaptchaV3ProxylessRequest } from '@zennolab_com/capmonstercloud-client';

const API_KEY = "YOUR_API_KEY"; // Specify your CapMonster Cloud API key

async function solveRecaptchaV3() {
    const cmcClient = CapMonsterCloudClientFactory.Create(
        new ClientOptions({ clientKey: API_KEY })
    );

    // Optionally, you can check the balance
    const balance = await cmcClient.getBalance();
    console.log("Balance:", balance);

    const recaptchaV3Request = new RecaptchaV3ProxylessRequest({
        websiteURL: "https://lessons.zennolab.com/captchas/recaptcha/v3.php?level=beta", // URL of your page with captcha
        websiteKey: "6Le0xVgUAAAAAIt20XEB4rVhYOODgTl00d8juDob",
        minScore: 0.6,
        pageAction: "myverify",
    });

    const solution = await cmcClient.Solve(recaptchaV3Request);
    console.log("Solution:", solution);
}

solveRecaptchaV3().catch(console.error);
```
</details>
<BlogLink url="https://capmonster.cloud/en/blog/re-1/javascript-recaptcha-v3"/>

  </TabItem>

  <TabItem value="python" label="Python" className="method-panel">

<details>
      <summary>Show code</summary>
```python
# https://github.com/Zennolab/capmonstercloud-client-python

import asyncio
from capmonstercloudclient import CapMonsterClient, ClientOptions
from capmonstercloudclient.requests import RecaptchaV3ProxylessRequest

client_options = ClientOptions(api_key="YOUR_API_KEY")  # Specify your CapMonster Cloud API key
cap_monster_client = CapMonsterClient(options=client_options)

# Optionally, you can check the balance
balance = asyncio.run(cap_monster_client.get_balance())
print("Balance:", balance)

recaptcha_v3_request = RecaptchaV3ProxylessRequest(
    websiteUrl="https://lessons.zennolab.com/captchas/recaptcha/v3.php?level=beta",  # URL of your page with captcha
    websiteKey="6Le0xVgUAAAAAIt20XEB4rVhYOODgTl00d8juDob",
    minScore=0.6,
    pageAction="myverify"
)

async def solve_captcha():
    return await cap_monster_client.solve_captcha(recaptcha_v3_request)

responses = asyncio.run(solve_captcha())
print(responses)
```
</details>
<BlogLink url="https://capmonster.cloud/en/blog/re-1/python-recaptcha-v3"/>

  </TabItem>

  <TabItem value="csharp" label="C#" className="method-panel">
<details>
      <summary>Show code</summary>
```csharp
// https://github.com/ZennoLab/capmonstercloud-client-dotnet

using Zennolab.CapMonsterCloud.Requests;
using Zennolab.CapMonsterCloud;

class Program
{
    static async Task Main(string[] args)
    {
        var clientOptions = new ClientOptions
        {
            ClientKey = "YOUR_API_KEY"  // Specify your CapMonster Cloud API key
        };

        var cmCloudClient = CapMonsterCloudClientFactory.Create(clientOptions);

        // Optionally, you can check the balance
        var balance = await cmCloudClient.GetBalanceAsync();
        Console.WriteLine("Balance: " + balance);

        var recaptchaV3Request = new RecaptchaV3ProxylessRequest
        {
            WebsiteUrl = "https://lessons.zennolab.com/captchas/recaptcha/v3.php?level=beta",  // URL of your page with captcha
            WebsiteKey = "6Le0xVgUAAAAAIt20XEB4rVhYOODgTl00d8juDob",
            MinScore = 0.6,
            PageAction = "myverify"
        };

        var recaptchaV3Result = await cmCloudClient.SolveAsync(recaptchaV3Request);

        Console.WriteLine("Solution: " + recaptchaV3Result.Solution.Value);
    }
}
```
</details>
<BlogLink url="https://capmonster.cloud/en/blog/re-1/c-recaptcha-v3"/>

  </TabItem>
</Tabs>

