---
sidebar_position: 7
sidebar_label: ComplexImageTask Recognition
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';
import ParamItem from '@theme/ParamItem';
import MethodItem from '@theme/MethodItem';
import MethodDescription from '@theme/MethodDescription'


# ComplexImageTask Recognition

## Request parameters
<TabItem value="proxyless" label="ComplexImageTask (without proxy)" default className="bordered-panel">
    <ParamItem title="type" required type="string" />
    **ComplexImageTask**

    ---

    <ParamItem title="class" required type="string" />
    **recognition**

    ---

    <ParamItem title="imagesBase64" required type="array" />
    Images array in base64 encoding.
    Example: [ “/9j/4AAQSkZJRgABAQEAAAAAAAD…”]

    ---

    <ParamItem title="metadata.Task" required type="string" />
    Possible values: `oocl_rotate_new` and others <br />
    Task name (<u>in English</u>).

  </TabItem>

## Available task types
### Create task `oocl_rotate_new`

In the request we pass two images: background and circle.

<TabItem value="proxyless" label="RecaptchaV2TaskProxyless (without proxy)" default className="method-panel">
<MethodItem>
  ```http
  https://api.capmonster.cloud/createTask
  ```
</MethodItem>
<MethodDescription>
**Request**
```json
{
    "clientKey": "API_KEY",
    "task": {
        "type": "ComplexImageTask",
        "class": "recognition",
        "imagesBase64": [
			"{background_base64}",
			"{circle_base64}"
		],
        "metadata": {
            "Task": "oocl_rotate_new"
        }
    }
}
```

Background example (*background_base64*):

![](./images/ComplexImageTask-Recognition/ex1.png)

Circle example (*circle_base64*):

![](./images/ComplexImageTask-Recognition/ex2.png)

**Response**
```json
{
  "errorId":0,
  "taskId":407533072
}
```

</MethodDescription>
</TabItem>


### Get task result `oocl_rotate_new`

<TabItem value="proxyless" label="GeeTestTaskProxyless (without proxy)" default className="method-panel-full">
    <MethodItem>
```http
https://api.capmonster.cloud/getTaskResult
```
    </MethodItem>
    <MethodDescription>
**Request**
```json
{
  "clientKey":"API_KEY",
  "taskId": 407533072
}
```
**Response**
Degrees by which the circle should be rotated clockwise.
```json
{
  "errorId":0,
  "status":"ready",
  "errorCode":null,
  "errorDescription":null,
  "solution": {
      "answer":[130.90909]
  },
   "metadata": {
      "AnswerType":"NumericArray"
  }
}
```
  </MethodDescription>
  </TabItem>


### Create task `oocl_rotate_double_new`

In the request we pass three images: background, ring, circle.
<TabItem value="proxyless" label="ComplexImageTask (без прокси)" default className="method-panel">
<MethodItem>
  ```http
  https://api.capmonster.cloud/createTask
  ```
</MethodItem>
<MethodDescription>
**Request**
```json
{ 
    "clientKey": "API_KEY",
    "task": {
        "type": "ComplexImageTask",
        "class": "recognition",
        "imagesBase64": [
			"{background_base64}",
			"{ring_base64}",
			"{circle_base64}"
		],
        "metadata": {
            "Task": "oocl_rotate_double_new"
        }
    }
}
```

Background (*background_base64*):

![](./images/ComplexImageTask-Recognition/ex3.png)

Ring (*ring_base64*):

![](./images/ComplexImageTask-Recognition/ex4.png)

Circle (*circle_base64*):

![](./images/ComplexImageTask-Recognition/ex5.png)

**Response**
```json
{
  "errorId":0,
  "taskId":407533072
}
```

</MethodDescription>
</TabItem>


### Get task result `oocl_rotate_double_new`

<TabItem value="proxyless" label="ComplexImageTask (without proxy)" default className="method-panel-full">
    <MethodItem>
```http
https://api.capmonster.cloud/getTaskResult
```
    </MethodItem>
    <MethodDescription>
**Request**
```json
{
  "clientKey":"API_KEY",
  "taskId": 407533072
}
```
**Response**
Degrees by which the ring should be turned counterclockwise and the circle clockwise.
```json
{
  "errorId":0,
  "status":"ready",
  "errorCode":null,
  "errorDescription":null,
  "solution": {
      "answer":[130.90909]
  },
   "metadata": {
      "AnswerType":"NumericArray"
  }
}
```

  </MethodDescription>
  </TabItem>
  
### Create task `betpunch_3x3_rotate`

In the request we pass nine images. The images must be passed in the following order:
![](./images/ComplexImageTask-Recognition/ex6.png)

<TabItem value="proxyless" label="ComplexImageTask (без прокси)" default className="method-panel">
<MethodItem>
  ```http
  https://api.capmonster.cloud/createTask
  ```
</MethodItem>
<MethodDescription>
**Request**
```json
{ 
    "clientKey": "API_KEY",
    "task": {
        "type": "ComplexImageTask",
        "class": "recognition",
        "imagesBase64": [
			"{image_1_Base64}",
			"{image_2_Base64}",
			"{image_3_Base64}",
			"{image_4_Base64}",
			"{image_5_Base64}",
			"{image_6_Base64}",
			"{image_7_Base64}",
			"{image_8_Base64}",
			"{image_9_Base64}",
		],
        "metadata": {
            "Task": "betpunch_3x3_rotate"
        }
    }
}
```

**Response**
```json
{
  "errorId":0,
  "taskId":407533072
}
```

</MethodDescription>
</TabItem>


### Get task result `betpunch_3x3_rotate`

<TabItem value="proxyless" label="ComplexImageTask (without proxy)" default className="method-panel-full">
    <MethodItem>
```http
https://api.capmonster.cloud/getTaskResult
```
    </MethodItem>
    <MethodDescription>
**Request**
```json
{
  "clientKey":"API_KEY",
  "taskId": 407533072
}
```
**Response**
"answer":[X,X,X,X,X,X,X,X,X], where X is an integer value from 1 to 4 for each image. 4 - means that the image does not need to be rotated; 1-3 - the number of counterclockwise rotations of the image.
```json
{
	"errorId":0,
	"status":"ready",
	"errorCode":null,
	"errorDescription":null,
	"solution":
	{
		"answer":[4,4,4,4,4,3,1,2,2],
		"metadata":{"AnswerType":"NumericArray"}
	}
}
```

  </MethodDescription>
  </TabItem>